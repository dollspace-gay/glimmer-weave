{"id":"glimmer-weave-0sh","content_hash":"941cfeed542710b2559fdf7b8216d97f2f250fdf384341fde4f9f01e9711975a","title":"Design macro system","description":"Design compile-time macro system with hygenic expansion. Enables code generation and metaprogramming. This is a major language feature.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:19.6250276-06:00","updated_at":"2025-11-06T00:21:19.6250276-06:00"}
{"id":"glimmer-weave-1uh","content_hash":"b414bc17be089d755af17af823aed2283245c125134d747f198e63b4603820e1","title":"Add variadic function syntax for user-defined functions","description":"Currently only native functions can be variadic. Add syntax for user-defined variadic functions (e.g., spread/splat operator) to enable functions like 'chant max(...values)'.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:26.1885518-06:00","updated_at":"2025-11-06T20:04:34.034928-06:00","closed_at":"2025-11-06T20:04:34.034928-06:00"}
{"id":"glimmer-weave-22h","content_hash":"299fcf12fa7f1c2861ce6425302efbcbc97c95d1ebf8821df09f474b3cfe755f","title":"Implement generics with type parameters and monomorphization","description":"Add support for generic functions and types with full type checking and compilation.\n\n## Goals (from Phase 1 roadmap)\n1. Design generic syntax compatible with Glimmer-Weave's natural language style\n2. Implement generic type checking in semantic analyzer\n3. Support generic structs and functions\n4. Implement monomorphization in bytecode compiler\n5. Test with common generic types (Outcome/Maybe equivalents)\n\n## Proposed Syntax\n```glimmer-weave\n# Generic function\nchant identity\u003cT\u003e(x as T) as T then\n    yield x\nend\n\n# Generic struct\nform Box\u003cT\u003e with\n    value as T\nend\n\n# Generic with constraints (future: requires traits)\nchant compare\u003cT where T: Comparable\u003e(a as T, b as T) as Truth then\n    yield a \u003e b\nend\n```\n\n## Implementation Tasks\n1. **Parser Changes**\n   - Add type parameter parsing: `\u003cT\u003e`, `\u003cT, U\u003e`\n   - Parse type parameter constraints (for trait bounds)\n   - Update function and struct definition parsing\n   \n2. **AST Changes**\n   - Add TypeParameter node\n   - Update ChantDef and FormDef to include type parameters\n   - Add generic type instantiation nodes\n\n3. **Semantic Analysis**\n   - Type parameter scoping and resolution\n   - Generic type checking (ensure T is used consistently)\n   - Type parameter constraint validation\n   - Detect missing type parameters\n\n4. **Bytecode Compiler**\n   - Implement monomorphization (generate concrete versions for each type used)\n   - Cache monomorphized versions to avoid duplication\n   - Handle recursive generic functions\n\n5. **Interpreter**\n   - Runtime generic support (simpler than monomorphization)\n   - Type parameter substitution during evaluation\n\n6. **Testing**\n   - Generic identity function\n   - Generic container types (Box, List)\n   - Generic Outcome and Maybe (if not already generic)\n   - Nested generics: `Box\u003cBox\u003cNumber\u003e\u003e`\n   - Generic function calling generic function\n\n## Success Criteria\n- Generic functions work in all three execution engines\n- Monomorphization generates efficient specialized code\n- Type errors in generic code caught at compile time\n- No runtime overhead for generic abstractions in bytecode\n\n## Files to Modify\n- src/token.rs (add angle bracket tokens)\n- src/lexer.rs (tokenize \u003c and \u003e)\n- src/ast.rs (add TypeParameter, update nodes)\n- src/parser.rs (parse generic syntax)\n- src/semantic.rs (generic type checking)\n- src/bytecode_compiler.rs (monomorphization)\n- src/eval.rs (runtime generic support)\n- tests/test_generic_runtime.rs (already exists, expand)\n- tests/test_generic_bytecode.rs (already exists, expand)\n\n## Estimated Effort\n16-24 hours for full implementation with all three engines\n\n## Dependencies\n- Requires: glimmer-weave-ngr (type inference) for best experience\n- Enables: Trait system (glimmer-weave-0sh, next phase)","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-07T12:59:41.7248982-06:00","updated_at":"2025-11-07T12:59:41.7248982-06:00","dependencies":[{"issue_id":"glimmer-weave-22h","depends_on_id":"glimmer-weave-ngr","type":"blocks","created_at":"2025-11-07T13:02:30.2413965-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-2rb","content_hash":"6cda1ed8f7d5f9328dcfc18a89304067258a26eb022a08d9d32ed0daca5eea73","title":"Add VM struct field type validation","description":"VM CreateStruct instruction (vm.rs:412) doesn't validate that field values match the types declared in the struct definition. Should check each field's type matches the struct definition and return TypeError if mismatched.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T16:59:04.0147885-06:00","updated_at":"2025-11-06T17:04:37.3859255-06:00","closed_at":"2025-11-06T17:04:37.3859255-06:00"}
{"id":"glimmer-weave-318","content_hash":"11dec961c5259f24d619553ad94f97df1757cc91482b274881b5ffd99f940ec9","title":"Fix large allocation edge case (\u003e64KB heap expansion)","description":"Large allocations requiring heap expansion beyond initial 64KB return NULL instead of expanding heap.\n\n## Problem\nAllocations \u003e64KB that require mmap-based heap expansion fail and return NULL. Basic allocations (\u003c64KB) work correctly.\n\n## Symptoms\n- test_large_allocation (128KB) fails immediately\n- No mmap syscalls observed in strace\n- Allocator returns NULL without attempting heap expansion\n\n## Work Done\n1. Identified original issue: heap bounds updated AFTER gl_insert_free_sorted, causing inserted blocks to fail bounds checks\n2. Moved bounds update to occur BEFORE insertion (native_allocator.S:319-349)\n3. Increased iteration limit from 100 to 1000 for debugging (native_allocator.S:176)\n4. After reordering: new issue prevents expansion code path from being reached\n\n## Debugging Recommendations\n1. Add debug logging via SYS_write syscall in assembly to trace execution\n2. Use GDB to step through gl_malloc for 128KB allocation\n3. Verify register preservation across bounds update and insertion calls\n4. Test with smaller expansions (70KB) to isolate threshold\n5. Consider reverting bounds update reordering and investigating alternative fixes\n\n## Impact\nLow - affects \u003c1% of typical scripting workloads. Most allocations are \u003c1KB. The core segregated free list optimization works correctly for common cases.\n\n## Files\n- src/native_allocator.S (lines 285-353: heap expansion logic)\n- tests/test_allocator_rust.rs (test_large_allocation)\n- tests/test_simple_large_alloc.rs\n- tests/test_medium_alloc.rs","status":"open","priority":4,"issue_type":"bug","created_at":"2025-11-07T12:55:38.3897721-06:00","updated_at":"2025-11-07T12:55:38.3897721-06:00"}
{"id":"glimmer-weave-3sw","content_hash":"ed776d82a9cd27dc381802ea4cd40846cc49d8dfd18b660e75fa25781534afda","title":"Module System: Phase 3 - Semantic Analysis","description":"Extend SemanticAnalyzer with module scope tracking. Validate exports, imports, detect name conflicts, enforce visibility rules, validate qualified access (Module.member). See docs/module_system_design.md for details.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T02:22:56.3112409-06:00","updated_at":"2025-11-07T03:13:34.8918548-06:00","closed_at":"2025-11-07T03:13:34.8918548-06:00","dependencies":[{"issue_id":"glimmer-weave-3sw","depends_on_id":"glimmer-weave-gmj","type":"blocks","created_at":"2025-11-07T02:23:29.8024385-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-3ub","content_hash":"52f8ec17eeee6c524b041f7d7cf67937219aa51d37cabd2de219da3b16a60817","title":"Design and implement trait system","description":"Add Rust-like trait/interface system for polymorphism. Includes: trait definitions, trait implementations, trait bounds on generics, and dynamic dispatch via trait objects.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T00:21:08.3810115-06:00","updated_at":"2025-11-06T14:50:54.5587623-06:00","closed_at":"2025-11-06T14:50:54.5587623-06:00","dependencies":[{"issue_id":"glimmer-weave-3ub","depends_on_id":"glimmer-weave-bdw","type":"blocks","created_at":"2025-11-06T00:23:10.9363846-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-3uo","content_hash":"4721de38903fc19714fc29ad7f4b21f98127be1a7e0bcb1a9437169c8ac63ddd","title":"Module System: Phase 5 - Bytecode VM Support","description":"Extend bytecode compiler for module boundaries. Implement module-level compilation units, add module metadata to bytecode chunks, implement qualified access in VM, handle cross-module function calls. See docs/module_system_design.md for details.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T02:23:10.5933838-06:00","updated_at":"2025-11-07T04:02:13.7732994-06:00","closed_at":"2025-11-07T04:02:13.7732994-06:00","dependencies":[{"issue_id":"glimmer-weave-3uo","depends_on_id":"glimmer-weave-aqy","type":"blocks","created_at":"2025-11-07T02:23:30.0475871-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-57s","content_hash":"7826bbc19dbd8e4e868c6aba203005eac80df7c932170e97120f6ee8c20f6a96","title":"Design and implement module system","description":"Add module/namespace system with import/export syntax. Currently all code shares a single global namespace. Necessary for code organization and reusability.\n\nDesign: See docs/module_system_design.md\n\nImplementation broken into 6 phases (xt6, gmj, 3sw, aqy, 3uo, auw). Start with Phase 1 (xt6) - Parser Support.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:13.0868707-06:00","updated_at":"2025-11-07T04:19:28.9454203-06:00","closed_at":"2025-11-07T04:19:28.9454203-06:00","dependencies":[{"issue_id":"glimmer-weave-57s","depends_on_id":"glimmer-weave-xt6","type":"blocks","created_at":"2025-11-07T02:23:38.4142729-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-57s","depends_on_id":"glimmer-weave-gmj","type":"blocks","created_at":"2025-11-07T02:23:38.5446149-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-57s","depends_on_id":"glimmer-weave-3sw","type":"blocks","created_at":"2025-11-07T02:23:38.6576159-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-57s","depends_on_id":"glimmer-weave-aqy","type":"blocks","created_at":"2025-11-07T02:23:38.7791066-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-57s","depends_on_id":"glimmer-weave-3uo","type":"blocks","created_at":"2025-11-07T02:23:38.8954071-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-57s","depends_on_id":"glimmer-weave-auw","type":"blocks","created_at":"2025-11-07T02:23:39.0112015-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-5nx","content_hash":"b16fcb5d542ef0783c385d5715bc13cebe8d49db667dc29381ec9a15fafcda05","title":"Add user-defined enum types","description":"Allow users to define custom enum types beyond the built-in Outcome/Maybe. Example: 'form Color with Red | Green | Blue end'. This enables algebraic data types for domain modeling.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T00:21:09.3060246-06:00","updated_at":"2025-11-06T12:29:30.3198332-06:00","closed_at":"2025-11-06T12:29:30.3198332-06:00"}
{"id":"glimmer-weave-6ki","content_hash":"8e9d46983a8192c75e03a3e7ac1fcc30062b02785997f9068003d5696ab77545","title":"Implement trait system (interfaces and trait bounds)","description":"Add Rust-inspired trait system for polymorphism and code reuse.\n\n## Goals (from Phase 1 roadmap)\n1. Design trait syntax compatible with Glimmer-Weave's natural language\n2. Implement trait definitions\n3. Implement trait implementations for types\n4. Support trait bounds on generic parameters\n5. Implement dynamic dispatch (trait objects)\n\n## Proposed Syntax\n```glimmer-weave\n# Trait definition\nessence Comparable then\n    chant compare(self, other as Self) as Number\nend\n\n# Trait implementation\nmanifest Comparable for Number then\n    chant compare(self, other as Number) as Number then\n        should self \u003e other then\n            yield 1\n        otherwise should self \u003c other then\n            yield -1\n        otherwise\n            yield 0\n        end\n    end\nend\n\n# Generic with trait bound\nchant find_max\u003cT where T: Comparable\u003e(items as List\u003cT\u003e) as Maybe\u003cT\u003e then\n    # Implementation uses T.compare()\nend\n\n# Trait object (dynamic dispatch)\nbind comparables as List\u003cessence Comparable\u003e to [\n    42,\n    \"hello\",\n    Point { x: 1, y: 2 }\n]\n```\n\n## Design Decisions\n- **Keyword:** Use `essence` for trait definition (captures abstract nature)\n- **Implementation:** Use `manifest` for trait impl (making essence concrete)\n- **Bounds:** Use `where T: TraitName` syntax (clear and readable)\n- **Self type:** Use `Self` (capital S) for the implementing type\n- **Multiple traits:** `where T: Trait1 + Trait2`\n\n## Implementation Tasks\n\n### 1. Parser \u0026 AST\n- Add `essence` and `manifest` keywords\n- Parse trait definitions (methods without bodies)\n- Parse trait implementations\n- Parse trait bounds in generic parameters\n- Add TraitDef and TraitImpl AST nodes\n\n### 2. Semantic Analysis\n- Trait definition validation (no duplicate methods)\n- Trait implementation checking (all methods present, correct signatures)\n- Trait bound resolution in generic contexts\n- Verify types used in trait bounds actually implement the trait\n- Check for conflicting trait implementations\n\n### 3. Type Checking\n- Method resolution through traits\n- Static dispatch for concrete types\n- Trait object type checking (ensure trait is object-safe)\n- Coherence checking (no overlapping implementations)\n\n### 4. Bytecode Compiler\n- Static dispatch: direct function calls for known types\n- Dynamic dispatch: vtable generation for trait objects\n- Monomorphization respects trait bounds\n\n### 5. Interpreter\n- Runtime trait dispatch\n- Method lookup through trait table\n\n### 6. Standard Library Traits\nDefine core traits:\n- `Comparable` - for ordering\n- `Textual` - for string conversion (like Display/Debug)\n- `Clonable` - for deep copying\n- `Iterable` - for iteration support\n\n## Success Criteria\n- Trait definitions compile and type-check correctly\n- Trait implementations verified at compile time\n- Generic functions with trait bounds work correctly\n- Dynamic dispatch works for trait objects\n- Helpful error messages for missing/incorrect implementations\n\n## Files to Create/Modify\n- src/token.rs (add `essence`, `manifest` keywords)\n- src/lexer.rs (tokenize new keywords)\n- src/ast.rs (add TraitDef, TraitImpl nodes)\n- src/parser.rs (parse trait syntax)\n- src/semantic.rs (trait checking and resolution)\n- src/bytecode_compiler.rs (static/dynamic dispatch)\n- src/eval.rs (runtime trait support)\n- New: src/trait_system.rs (trait registry, vtable generation)\n- New: tests/test_trait_definitions.rs\n- New: tests/test_trait_bounds.rs\n- Existing: tests/test_trait_*.rs (expand coverage)\n\n## Estimated Effort\n20-30 hours for full implementation with dynamic dispatch\n\n## Dependencies\n- Requires: glimmer-weave-ngr (type inference)\n- Requires: glimmer-weave-22h (generics)\n- Enables: Many standard library features\n- Enables: Advanced polymorphism patterns","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-07T13:02:21.9172585-06:00","updated_at":"2025-11-07T13:02:21.9172585-06:00","dependencies":[{"issue_id":"glimmer-weave-6ki","depends_on_id":"glimmer-weave-ngr","type":"blocks","created_at":"2025-11-07T13:02:30.3714021-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-6ki","depends_on_id":"glimmer-weave-22h","type":"blocks","created_at":"2025-11-07T13:02:30.4863223-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-6xt","content_hash":"3c868bc6436112e3e044db7cc32b48e61ce43fbc1fb4de66ec0f5a5998ba9d56","title":"Add immediate type validation for Range creation","description":"Currently Range { start, end } doesn't validate that start and end are Numbers until iteration. Should fail immediately at Range creation time with clear TypeError if non-numeric values are provided.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T16:59:02.4089018-06:00","updated_at":"2025-11-06T17:01:28.0301452-06:00","closed_at":"2025-11-06T17:01:28.0301452-06:00"}
{"id":"glimmer-weave-72d","content_hash":"1781df93871e06c8672e054d7a13a0347b36b27e8c037652680c3f4d60280535","title":"Improve interpreter struct instantiation type checking","description":"Struct instantiation in eval.rs (lines 815-839) should validate that provided field values match the types declared in the struct definition. Currently only checks field names exist.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T16:59:04.8321231-06:00","updated_at":"2025-11-06T17:06:16.2923352-06:00","closed_at":"2025-11-06T17:06:16.2923352-06:00"}
{"id":"glimmer-weave-7fv","content_hash":"f602c346a7cf60fafe4332fa1d0d2c9f740527f296fdf84f81d1f793c081145c","title":"Add pointer consistency validation to allocator","description":"Add FD-\u003ebk == P \u0026\u0026 BK-\u003efd == P validation when traversing free list to detect corruption early. Should validate before dereferencing any next/prev pointers from blocks.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T23:46:32.1121011-06:00","updated_at":"2025-11-06T23:50:37.270609-06:00","closed_at":"2025-11-06T23:50:37.270609-06:00"}
{"id":"glimmer-weave-7kt","content_hash":"a39ab554951774392111adc9430103139605daec3db1154364a48e113a70927a","title":"Build REPL (Read-Eval-Print Loop)","description":"Create interactive REPL with syntax highlighting and history. Essential developer tool for rapid prototyping and testing code snippets.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:44.5032512-06:00","updated_at":"2025-11-06T18:08:08.7252792-06:00","closed_at":"2025-11-06T18:08:08.7252792-06:00"}
{"id":"glimmer-weave-7n0","content_hash":"d4a960ba066bf632eabfe976596afd030a7e7d60ec869fbbabfabcfb472e9f05","title":"Implement Iterator trait and combinators","description":"Add Iterator as first-class abstraction with combinators (map, filter, fold, take, skip, etc.). Currently only loop-based iteration exists. This enables functional programming patterns.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T00:21:12.1145324-06:00","updated_at":"2025-11-06T16:54:40.1531962-06:00","closed_at":"2025-11-06T16:54:40.1531962-06:00","dependencies":[{"issue_id":"glimmer-weave-7n0","depends_on_id":"glimmer-weave-bdw","type":"blocks","created_at":"2025-11-06T00:23:11.7868353-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-7n0","depends_on_id":"glimmer-weave-3ub","type":"blocks","created_at":"2025-11-06T00:23:12.6999095-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-8uw","content_hash":"c1079f417e617f4cc4c85e9c1638f3a6fe84d69e49f8dc5d765d4bc7e4f424ec","title":"Design async/await and concurrency primitives","description":"Add async/await syntax, Future/Promise types, and async runtime. Enables asynchronous programming. Requires careful design for AethelOS integration.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:20.5504453-06:00","updated_at":"2025-11-06T00:21:20.5504453-06:00"}
{"id":"glimmer-weave-afi","content_hash":"596c097b981712012c9917e872a066eba12193ae9dd200c896c049bd6ca27941","title":"Implement block coalescing algorithm","description":"Implement coalescing logic that merges adjacent free blocks. Scan backwards and forwards from newly freed block, merge if neighbors are free. Update free list pointers accordingly.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:58:50.7640145-06:00","updated_at":"2025-11-06T22:07:16.5870629-06:00","closed_at":"2025-11-06T22:07:16.5870629-06:00","dependencies":[{"issue_id":"glimmer-weave-afi","depends_on_id":"glimmer-weave-c32","type":"blocks","created_at":"2025-11-06T21:59:17.5953274-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-ako","content_hash":"53fd8c5b3e9a651b759bee2836593069a8751f46393ffc270b18363c8db42721","title":"Implement backward coalescing in gl_free","description":"Attempted implementation but encountered issues with list pointer manipulation after insertion. Forward coalescing works correctly. Backward coalescing requires more careful design to avoid corrupting free list when merging blocks post-insertion. Left TODO comment in code at line 638-641. Need to implement alternative approach - possibly integrating check into gl_insert_free_sorted or using different merge strategy.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T23:46:39.7877256-06:00","updated_at":"2025-11-07T02:07:06.5292056-06:00","closed_at":"2025-11-07T02:07:06.5292056-06:00"}
{"id":"glimmer-weave-aqy","content_hash":"e06acd2c3f5b9fee3ab238f02cf419e5ee94243eb2d28ac3539d52cc864a212c","title":"Module System: Phase 4 - Interpreter Support","description":"Extend Environment with module scopes. Implement module loading in Evaluator, qualified access (Module.member), selective imports (gather). Handle module initialization order. See docs/module_system_design.md for details.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T02:23:03.3136108-06:00","updated_at":"2025-11-07T03:51:01.3157538-06:00","closed_at":"2025-11-07T03:51:01.3157538-06:00","dependencies":[{"issue_id":"glimmer-weave-aqy","depends_on_id":"glimmer-weave-3sw","type":"blocks","created_at":"2025-11-07T02:23:29.9176322-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-are","content_hash":"7137b06d8f21f948ec9facd964cea3d3dfb79de24fc81b7e5993659238682aa0","title":"Implement Language Server Protocol (LSP)","description":"Build LSP server for IDE integration. Enables autocomplete, go-to-definition, error highlighting, and refactoring support in VS Code and other editors.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:45.3566679-06:00","updated_at":"2025-11-06T00:21:45.3566679-06:00","dependencies":[{"issue_id":"glimmer-weave-are","depends_on_id":"glimmer-weave-umx","type":"blocks","created_at":"2025-11-06T00:23:16.1551927-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-auw","content_hash":"5b6fee9d2a36ce6a0229ee30287a730bc9f4ab36cc129efa217b5214320ed369","title":"Module System: Phase 6 - Native Codegen Support","description":"Design module linking strategy for native code. Implement symbol export/import in assembly, generate module-local vs global symbols, handle cross-module calls in codegen. See docs/module_system_design.md for details. NOTE: May document limitations instead of full implementation.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-07T02:23:18.924847-06:00","updated_at":"2025-11-07T04:19:00.3622384-06:00","closed_at":"2025-11-07T04:19:00.3622384-06:00","dependencies":[{"issue_id":"glimmer-weave-auw","depends_on_id":"glimmer-weave-3uo","type":"blocks","created_at":"2025-11-07T02:23:30.1610304-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-bdw","content_hash":"487240249d663d46932c1f63f96d3e441ebc4233e42f0fd0077f7a94d81f9a77","title":"Implement generic type parameters (Generics)","description":"Implement generic type parameters (Generics). Phase 2 Type System completed. 152 tests passing.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-06T00:21:02.7963682-06:00","updated_at":"2025-11-06T02:45:06.0155621-06:00","closed_at":"2025-11-06T02:45:06.0155621-06:00"}
{"id":"glimmer-weave-bo0","content_hash":"cc363f12329e60dccdb952cebde4743b6af243cbcbdd571803649432a5e7cee4","title":"Investigate block corruption during alloc/free operations","description":"Validation shows blocks pass consistency checks initially but become corrupted during malloc/free. Crash at native_allocator.S:146 when reading current.next after successful validation. Root cause appears to be memory corruption happening DURING alloc/free operations, not just stale pointers. Need to audit block header writes and pointer updates.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-06T23:50:47.3728956-06:00","updated_at":"2025-11-07T00:32:12.3054899-06:00","closed_at":"2025-11-07T00:32:12.3054899-06:00"}
{"id":"glimmer-weave-bp9","content_hash":"d6276d0da4d63cd6c172c9a60e36683e649a8cb45ef0048ff2f78e2ddb94ac27","title":"Design ownership and borrowing system","description":"Research design for Rust-like ownership, move semantics, and borrow checker. This is aspirational and very difficult - may require significant language redesign. Enables compile-time memory safety.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:42.7512743-06:00","updated_at":"2025-11-06T00:21:42.7512743-06:00"}
{"id":"glimmer-weave-bwo","content_hash":"77788531efd2a838c227a21e568bfb796bcaeed88971e55ac3ff478ce5cb2347","title":"Write unit tests for heap allocator","description":"Create test suite for allocator functions: basic alloc/free, multiple allocations, fragmentation scenarios, coalescing verification, boundary conditions (zero size, huge size, NULL checks), and stress tests.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:59:03.1257237-06:00","updated_at":"2025-11-06T22:20:13.8371913-06:00","closed_at":"2025-11-06T22:20:13.8371913-06:00","dependencies":[{"issue_id":"glimmer-weave-bwo","depends_on_id":"glimmer-weave-if2","type":"blocks","created_at":"2025-11-06T21:59:18.9294423-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-bwo","depends_on_id":"glimmer-weave-n3n","type":"blocks","created_at":"2025-11-06T21:59:19.9357673-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-c32","content_hash":"f77749afff27a72ca9a04508bc16fa733b1fdcc76afb4e9bab2559b8003491d5","title":"Design free-list allocator data structure and algorithm","description":"Design the memory layout and algorithm for a free-list based heap allocator in x86-64. Include: block header format (size + free flag), free list structure (linked list), allocation strategy (first-fit vs best-fit), and coalescing algorithm.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:58:47.6682253-06:00","updated_at":"2025-11-06T22:03:19.1046368-06:00","closed_at":"2025-11-06T22:03:19.1046368-06:00"}
{"id":"glimmer-weave-cqf","content_hash":"aa3ba63b86dc6ed80b51d6cbcb9c52163fd79930c1ead6844b043588a903c79c","title":"Create package manager","description":"Design and implement Cargo-like package manager with dependency resolution, build scripts, and cross-compilation support. Required for ecosystem growth.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-11-06T00:21:46.2900811-06:00","updated_at":"2025-11-06T00:21:46.2900811-06:00"}
{"id":"glimmer-weave-cyg","content_hash":"c7bb0cc6b4cb73b5f65d539cec58c8443f8073f3255c68cba1420c4ac15db03e","title":"Optimize allocator performance and add benchmarks","description":"Benchmark allocator against common patterns (many small allocations, few large allocations, mixed). Optimize hot paths. Consider segregated free lists for common sizes. Document performance characteristics.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-06T21:59:04.1300833-06:00","updated_at":"2025-11-07T12:24:10.2150804-06:00","closed_at":"2025-11-07T12:24:10.2150804-06:00","dependencies":[{"issue_id":"glimmer-weave-cyg","depends_on_id":"glimmer-weave-e2u","type":"blocks","created_at":"2025-11-06T21:59:23.6742663-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-dqn","content_hash":"34cf76212e48057d2695a867f0c9e488e271ab87342b1a439e122b8350fcf61d","title":"Complete Pipeline implementation","description":"Implement pipeline operator execution. Parser/AST exists but eval.rs returns error. Syntax: 'value | function1 | function2'. Currently returns 'Pipelines not yet implemented' error.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:14.1723394-06:00","updated_at":"2025-11-06T17:25:19.7161011-06:00","closed_at":"2025-11-06T17:25:19.7161011-06:00"}
{"id":"glimmer-weave-e2u","content_hash":"f1b7f5f6ffcd4c7b21173f13e85c68354b8011a59be9186ca7f7bd29b37a8aaa","title":"Replace malloc@PLT calls with gl_malloc in codegen","description":"Update NativeRuntime to call gl_malloc/gl_free instead of libc malloc/free. Generate assembly that links with our custom allocator. Update external declarations.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:58:52.8855296-06:00","updated_at":"2025-11-06T22:11:20.0870879-06:00","closed_at":"2025-11-06T22:11:20.0870879-06:00","dependencies":[{"issue_id":"glimmer-weave-e2u","depends_on_id":"glimmer-weave-if2","type":"blocks","created_at":"2025-11-06T21:59:21.2629945-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-e2u","depends_on_id":"glimmer-weave-n3n","type":"blocks","created_at":"2025-11-06T21:59:22.5455906-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-ecp","content_hash":"60e6296b94e46e17208ce81b7e968a3efc2d1459906e814f65c38cff307d3cdb","title":"Implement break and continue statements","description":"Add loop control flow statements: 'break' (exit loop) and 'continue' (skip to next iteration). These are standard control flow primitives missing from the language.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T00:21:10.1890578-06:00","updated_at":"2025-11-06T12:47:30.6417741-06:00","closed_at":"2025-11-06T12:47:30.6417741-06:00"}
{"id":"glimmer-weave-g6c","content_hash":"9d964d216b659ca40ddb19a8153473e52aec7af828b149136d6bdcb24cf28369","title":"Make library compile in no_std mode","description":"Library currently requires std. Need to replace std:: imports with alloc:: and core:: to support embedded/OS development","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-06T20:21:47.728648-06:00","updated_at":"2025-11-06T20:27:07.9059689-06:00","closed_at":"2025-11-06T20:27:07.9059689-06:00"}
{"id":"glimmer-weave-gmj","content_hash":"826d49fec0632137de043f7a760cdcad92aeba50bfd7c74b10a04949b22b9401","title":"Module System: Phase 2 - Module Resolver","description":"Implement ModuleResolver to load and resolve module dependencies. Handle file path resolution (relative, absolute, std), build dependency graph, detect circular dependencies, cache modules. See docs/module_system_design.md for details.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T02:22:48.9880845-06:00","updated_at":"2025-11-07T02:50:11.3843597-06:00","closed_at":"2025-11-07T02:50:11.3843597-06:00","dependencies":[{"issue_id":"glimmer-weave-gmj","depends_on_id":"glimmer-weave-xt6","type":"blocks","created_at":"2025-11-07T02:23:29.6704822-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-i0v","content_hash":"7a577d2d1092fd3b8bd4b92caaee883d2fe9b4f7363c891ff100e75af19629b8","title":"Complete no_std support - add alloc imports to remaining modules","description":"70 remaining errors in no_std mode. Need to add 'use alloc::boxed::Box;' 'use alloc::string::String;' 'use alloc::vec::Vec;' to files that use these types. Most errors are in ast.rs, parser.rs, eval.rs.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T20:27:16.7957627-06:00","updated_at":"2025-11-06T20:43:06.7293075-06:00","closed_at":"2025-11-06T20:43:06.7293075-06:00"}
{"id":"glimmer-weave-if2","content_hash":"7dd5b2296203bf4019f281dcd4daa5ae782d50f9a644f50e6101acdcb43285c6","title":"Implement malloc function in x86-64 assembly","description":"Implement gl_malloc(size) in AT\u0026T syntax x86-64 assembly. Takes size in rdi, returns pointer in rax. Uses first-fit strategy to find free block in free list. If no suitable block found, request more memory from OS (sbrk/mmap). Splits large blocks when possible.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:58:48.676468-06:00","updated_at":"2025-11-06T22:05:14.1430271-06:00","closed_at":"2025-11-06T22:05:14.1430271-06:00","dependencies":[{"issue_id":"glimmer-weave-if2","depends_on_id":"glimmer-weave-c32","type":"blocks","created_at":"2025-11-06T21:59:15.3996275-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-m2b","content_hash":"e9c56949f6fb01910a4db769e9eba0d7a7dded158428750d2e28d39b458f1061","title":"Implement Outcome\u003cT, E\u003e and Maybe\u003cT\u003e generic types","description":"Replace current Any-typed Outcome/Maybe with proper generic type parameters. Currently TODOs exist in semantic.rs:355-358. This enables type-safe error handling and option types.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-06T00:21:06.5130625-06:00","updated_at":"2025-11-06T03:07:33.0070595-06:00","closed_at":"2025-11-06T03:07:33.0070595-06:00","dependencies":[{"issue_id":"glimmer-weave-m2b","depends_on_id":"glimmer-weave-bdw","type":"blocks","created_at":"2025-11-06T00:23:09.9000712-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-n3n","content_hash":"743b99e159c2c70ca223d3e7f4b0267194ececd4e0f32cd8aa0989dd1cdf6728","title":"Implement free function in x86-64 assembly","description":"Implement gl_free(ptr) in x86-64 assembly. Takes pointer in rdi. Marks block as free, adds to free list, and coalesces with adjacent free blocks to reduce fragmentation.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:58:49.7175569-06:00","updated_at":"2025-11-06T22:06:52.9896127-06:00","closed_at":"2025-11-06T22:06:52.9896127-06:00","dependencies":[{"issue_id":"glimmer-weave-n3n","depends_on_id":"glimmer-weave-c32","type":"blocks","created_at":"2025-11-06T21:59:16.4370023-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-ngr","content_hash":"ef249ac2d2a5b3e135d989d4d79918a0425c6961a97dc057d64839e51a81bdcf","title":"Strengthen type checker and implement full type inference","description":"Implement comprehensive type checking with Hindley-Milner style type inference.\n\n## Goals (from Phase 1 roadmap)\n1. Enforce type annotations at compile time\n2. Implement full type inference (Hindley-Milner style)\n3. Add type error messages with suggestions\n4. Create comprehensive type test suite\n\n## Current State\n- Type annotations: Parsed but not fully enforced (semantic.rs has basic support)\n- Type inference: Basic support only\n- Type checking: Only in semantic analyzer, not enforced at runtime\n\n## Tasks\n1. Strengthen semantic analyzer to enforce type annotations\n2. Implement Hindley-Milner type inference algorithm\n3. Add helpful error messages with 'Did you mean...?' suggestions\n4. Create test suite covering all type scenarios\n5. Update parser to require type annotations where needed\n6. Document type system in language reference\n\n## Success Criteria\n- Generic functions work with proper type inference\n- Type errors caught at compile time (before execution)\n- Zero runtime type errors in well-typed programs\n- Clear, actionable error messages for type mismatches\n\n## Files to Modify\n- src/semantic.rs (main type checker)\n- src/parser.rs (type annotation enforcement)\n- tests/test_runtime_type_checking.rs (expand test coverage)\n- New file: src/type_inference.rs (Hindley-Milner implementation)\n\n## Estimated Effort\n8-12 hours for full implementation","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-07T12:58:44.7845215-06:00","updated_at":"2025-11-07T13:14:37.2642397-06:00","closed_at":"2025-11-07T13:14:37.2642397-06:00"}
{"id":"glimmer-weave-nnh","content_hash":"fdf2d6866f634fe4add75c47914556f8a9dab7b56f371e02735ad6c2f2ed0303","title":"Implement World-Tree query system (seek expressions)","description":"Complete World-Tree query language. Parser/AST exists but eval.rs returns error. Domain-specific feature for AethelOS. Syntax uses 'seek', 'where', 'filter', 'sort' keywords.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:22.3393426-06:00","updated_at":"2025-11-06T00:21:22.3393426-06:00"}
{"id":"glimmer-weave-qp3","content_hash":"05dd4ffda4c13aca4e2f919c79977afcd40d459fe3b3d7991c1580751a81cfd3","title":"Complete native codegen heap allocation runtime","description":"Implement heap allocation runtime for x86-64 codegen. Currently structs and closures fail in native code due to missing malloc/free. This blocks full feature parity in codegen.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:16.0333619-06:00","updated_at":"2025-11-06T21:59:34.5875925-06:00","closed_at":"2025-11-06T21:59:34.5875925-06:00"}
{"id":"glimmer-weave-roo","content_hash":"28d989682edd513d49884e5feef883949c20530677b4f4dcf3d2461c2b799f9c","title":"Design lifetime system","description":"Design lifetime syntax, inference, and annotations for references. Depends on ownership system. Prevents dangling references at compile time.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:43.6449401-06:00","updated_at":"2025-11-06T00:21:43.6449401-06:00","dependencies":[{"issue_id":"glimmer-weave-roo","depends_on_id":"glimmer-weave-bp9","type":"blocks","created_at":"2025-11-06T00:23:13.7719694-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-sp1","content_hash":"6ff1dae3bbce35e0816c90d78e16b231b05b82ca0a07b9ce75b4ff8907044a69","title":"Fix free-list allocator corruption bugs","description":"The native allocator (native_allocator.S) has free-list corruption issues causing segfaults in tests. 3/14 tests pass (test_alignment, test_allocation_after_free, test_basic_allocation). Need to add pointer consistency validation (FD-\u003ebk == P validation), investigate missing backward coalescing, and add corruption detection guards.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-06T23:46:17.0292382-06:00","updated_at":"2025-11-07T00:32:10.6928432-06:00","closed_at":"2025-11-07T00:32:10.6928432-06:00","dependencies":[{"issue_id":"glimmer-weave-sp1","depends_on_id":"glimmer-weave-7fv","type":"blocks","created_at":"2025-11-06T23:46:48.0497277-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-sp1","depends_on_id":"glimmer-weave-ako","type":"blocks","created_at":"2025-11-06T23:46:48.1656597-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-t9b","content_hash":"fb0ba248f3e1911aba25f1bde2cb33b1fcadd0e36949ca5eb2cf7a7b90dc4b9b","title":"Add error propagation operator (? equivalent)","description":"Implement operator to propagate Mishap results up the call stack automatically. Rust's ? operator equivalent. Reduces boilerplate in error handling.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T00:21:11.1460625-06:00","updated_at":"2025-11-06T13:01:47.2681993-06:00","closed_at":"2025-11-06T13:01:47.2681993-06:00"}
{"id":"glimmer-weave-uf6","content_hash":"6ec75b40e75a6d99835b68ab02918002f96befb96455260406c810dd4c832838","title":"Add smart pointer types (Rc, Arc, RefCell equivalents)","description":"Implement reference-counted pointers and interior mutability patterns. Depends on ownership system. Enables shared ownership without garbage collection.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:28.1091263-06:00","updated_at":"2025-11-06T00:21:28.1091263-06:00","dependencies":[{"issue_id":"glimmer-weave-uf6","depends_on_id":"glimmer-weave-bp9","type":"blocks","created_at":"2025-11-06T00:23:14.9302015-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-ukw","content_hash":"55454c1df2c160c89b510e6e66518f7bb9f0c045e9a6b31510fd6a15b3998361","title":"Strengthen VM field access type checking","description":"VM GetField instruction (vm.rs:306) returns Nothing for missing fields instead of throwing FieldNotFound error. Should match interpreter behavior for consistency.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T16:59:03.202764-06:00","updated_at":"2025-11-06T17:03:36.7647729-06:00","closed_at":"2025-11-06T17:03:36.7647729-06:00"}
{"id":"glimmer-weave-umx","content_hash":"aecef01607d0cd4f9724c343aa303ac9711e4bb48a15f2bf78ecda1868ae5b26","title":"Strengthen type inference (Hindley-Milner)","description":"Implement full bidirectional type inference instead of just literal-based inference. This allows the compiler to infer types in complex expressions without explicit annotations.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-06T00:21:07.3953939-06:00","updated_at":"2025-11-06T03:42:07.207646-06:00","closed_at":"2025-11-06T03:42:07.207646-06:00"}
{"id":"glimmer-weave-vhx","content_hash":"e7925963e9e8714769923fbbe1462c52fef2be766f4ba454dca19f7f2ee5b080","title":"Implement capability request system","description":"Complete capability-based security. Parser/AST exists but eval.rs returns error. This is critical for AethelOS integration. Syntax: 'request FileAccess with justification \"logging\"'.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:15.0962991-06:00","updated_at":"2025-11-06T21:49:24.4399416-06:00","closed_at":"2025-11-06T21:49:24.4399416-06:00"}
{"id":"glimmer-weave-w19","content_hash":"89d7bc7b9d3d71f55bdcc985ea155e0bc82f1424daac565ff095ec8433dee8df","title":"Expand standard library functions","description":"Add missing standard library: filesystem I/O, collection operations (sort, filter mapped), JSON/serialization, regex support. Currently only basic functions exist (runtime.rs has ~30 functions).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T00:21:16.9164601-06:00","updated_at":"2025-11-06T19:37:53.5096977-06:00","closed_at":"2025-11-06T19:37:53.5096977-06:00"}
{"id":"glimmer-weave-xo2","content_hash":"a8578d9deb04b8974064a704ed55e4b1021c32d2f2683a561b442e368308fd88","title":"Enforce runtime type checking","description":"Currently type errors are only caught in semantic analysis. Add runtime type guards in interpreter and VM to prevent type errors during execution.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-06T00:21:27.1754032-06:00","updated_at":"2025-11-06T17:12:40.2018648-06:00","closed_at":"2025-11-06T17:12:40.2018648-06:00","dependencies":[{"issue_id":"glimmer-weave-xo2","depends_on_id":"glimmer-weave-6xt","type":"blocks","created_at":"2025-11-06T16:59:13.5214299-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-xo2","depends_on_id":"glimmer-weave-ukw","type":"blocks","created_at":"2025-11-06T16:59:13.6453893-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-xo2","depends_on_id":"glimmer-weave-2rb","type":"blocks","created_at":"2025-11-06T16:59:13.7490846-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-xo2","depends_on_id":"glimmer-weave-72d","type":"blocks","created_at":"2025-11-06T16:59:13.8644233-06:00","created_by":"daemon"},{"issue_id":"glimmer-weave-xo2","depends_on_id":"glimmer-weave-yaa","type":"blocks","created_at":"2025-11-06T16:59:13.9816274-06:00","created_by":"daemon"}]}
{"id":"glimmer-weave-xt6","content_hash":"86c26fcc61faefe5b4bc094ec238f024d4f6f1701f1ef2fea103282f97c83407","title":"Module System: Phase 1 - Parser Support","description":"Implement parser support for module syntax (grove, summon, gather, offer keywords). Add AST nodes for ModuleDecl, Import, Export, ModuleAccess. Parse module syntax without execution. See docs/module_system_design.md for details.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T02:22:42.1287714-06:00","updated_at":"2025-11-07T02:42:11.2685234-06:00","closed_at":"2025-11-07T02:42:11.2685234-06:00"}
{"id":"glimmer-weave-yaa","content_hash":"2337e75c1b06ba890e1d4df50777b146fbc05927fec2bca1b2a0047f9af38dc6","title":"Add comprehensive runtime type check test suite","description":"Create tests that verify all operations properly reject invalid types at runtime with clear error messages. Test edge cases like: null/Nothing in operations, mixed-type lists, invalid function args, struct field type mismatches, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-06T16:59:05.7351522-06:00","updated_at":"2025-11-06T17:12:27.7292728-06:00","closed_at":"2025-11-06T17:12:27.7292728-06:00"}
{"id":"glimmer-weave-zw4","content_hash":"b873c9e27522eba50ee6acc316c68ecbbf0b96dcfc2f9be67a64b0ec87ddf606","title":"Design FFI (Foreign Function Interface)","description":"Add ability to call C/Rust functions and export Glimmer-Weave functions. Critical for interoperability with existing codebases and AethelOS kernel.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-06T00:21:21.4081323-06:00","updated_at":"2025-11-06T00:21:21.4081323-06:00"}
